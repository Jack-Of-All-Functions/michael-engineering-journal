# 8/26/2020

## Table of Contents

1. [Stand Up Notes](#stand-up-notes)
2. [Work Completed](#work-completed)
3. [PostgreSQL study](#postgres-study)

## Stand Up Notes

We discussed what we would be working on today. Our primary focus both individually and as a group is to read up on Postgres and maybe start designing our database schemas.

## Work Completed

- Updated API routes
- Updated readme to include descriptions and define usage of API routes

## Postgres study

[Link to documentation for PostgreSQL v10](https://www.postgresql.org/docs/10/index.html)

### What is PostgreSQL?

PostgreSQL is an open source relational database that dates back to 1986. It was originally created in UC Berkley, as an evolution of the [Ingres](https://en.wikipedia.org/wiki/Ingres_(database)) project. Postgres is fully [ACID](https://en.wikipedia.org/wiki/ACID) compliant, and is available on nearly every platform, including macOS, Linux, FreeBSD, OpenBSD, and Windows.

### Some important features

#### Data Types

- Primitives: Integer, Numeric, String, Boolean
- Structured: Date/Time, Array, Range, UUID
- Document: JSON/JSONB, XML, Key-value (Hstore)

#### Data Integrity

- UNIQUE, NOT NULL
- Primary Keys
- Foreign Keys

#### Concurrency, Performance

- Indexing: B-tree, Multicolumn, Expressions, Partial
- Parallelization of read queries and building B-tree indicies
- Table partitioning
- Just-in-time compilation of expressions

#### Security

- Authentication: GSSAPI, SSPI, LDAP, SCRAM-SHA-256, Certificate, and more
- Multi-factor authentication with certificates and an additional method

#### Extensibility

- Stored functions and procedures
- SQL/JSON path expressions
- Foreign data wrappers: connect to other databases or streams with a standard SQL interface
- Customizable storage interface for tables
- Other extensions that provide additional functionality, including PostGIS

#### Internationalisation, Text Search

- Support for international character sets
- Case-insensitive and accent-insensitive collations
- Full-text search

### Table Basics

#### Creating a table

``` 
CREATE TABLE products (
  product_number integer,
  name text,
  price numeric
);
```

There is a limit on how many columns a table can contain. Depending on the column types, it is between 250 and 1600. Designing a table with this many columns is highly unusual, and is often a questionable design.

#### Dropping a table

` DROP TABLE products; `

Dropping a table that doesn't exist results in an error. However, it is common in SQL scripts to drop a table before attempting to create it. In this case, you can use the following command:

` DROP TABLE IF EXISTS products; `

### Modifying Tables

There are multiple functions available to modify tables. They include, but are not limited to:

- Add/Remove columns
- Change column data types
- Rename columns
- Rename tables

All of these actions are performed using the `ALTER TABLE` command.

To add a column, use the following command:

`ALTER TABLE products ADD COLUMN description text;`

To remove a column, use the following command:

`ALTER TABLE products DROP COLUMN description;`

To change the data type of a column, use the following command:

`ALTER TABLE products ALTER COLUMN price TYPE numeric;`

To rename a column, use the following command:

`ALTER TABLE products RENAME COLUMN product_no TO product_number;`

To rename a table, use the following command:

`ALTER TABLE products RENAME TO items;`

### Schemas

#### Creating a Schema

To create a schema, use the `CREATE SCHEMA` command. That may look like the following:

`CREATE SCHEMA products`

To create a new table within the schema, you may use a command like the following: 

``` 
CREATE TABLE products.images (
  ...
);
```

To drop an empty schema, use the following command:

`DROP SCHEMA products;`

To drop a schema including all contained objects, use the following command:

`DROP SCHEMA products CASCADE;`